<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>VARUN.SURF</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:Inter,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:#0f0f0f;color:#e8e8e8;min-height:100vh;padding:20px}.container{max-width:1400px;margin:0 auto}.header{text-align:center;margin-bottom:40px}.header h1{font-size:2.8rem;font-weight:100;color:#fff;margin-bottom:8px;letter-spacing:-.02em}.header p{color:#9ca3af;font-size:1rem;font-weight:400}.controls{display:flex;justify-content:center;align-items:center;margin-bottom:30px;flex-wrap:wrap}.dropdown-container{position:relative;width:100%;max-width:600px}.dropdown-button{background:linear-gradient(145deg,#1d1d1d,#2c2c2c);border:1px solid #555;color:#e0e0e0;padding:12px 40px 12px 16px;border-radius:12px;cursor:pointer;font-size:.9rem;font-weight:500;width:100%;text-align:left;transition:all .3s ease;position:relative;display:flex;align-items:center;justify-content:space-between}.dropdown-button:hover{background:linear-gradient(145deg,#2c2c2c,#3d3d3d);border-color:#666}.dropdown-button.active{background:linear-gradient(145deg,#00397b,#1663b0);border-color:#0059be;color:#fff;box-shadow:0 4px 12px rgba(74,158,255,.4)}.dropdown-arrow{font-size:.8rem;transition:transform .3s ease;color:#9ca3af}.dropdown-button.active .dropdown-arrow{color:#fff}.dropdown-button.open .dropdown-arrow{transform:rotate(180deg)}.dropdown-menu{position:absolute;top:100%;left:0;right:0;background:#1a1a1a;border:1px solid #333;border-radius:12px;margin-top:4px;z-index:100;opacity:0;visibility:hidden;transform:translateY(-10px);transition:all .3s ease;box-shadow:0 8px 32px rgba(0,0,0,.6);backdrop-filter:blur(10px);max-height:300px;overflow-y:auto}.dropdown-menu.open{opacity:1;visibility:visible;transform:translateY(0)}.dropdown-option{padding:12px 16px;cursor:pointer;transition:all .2s ease;border-bottom:1px solid #262626;font-size:.9rem;display:flex;align-items:center;gap:10px}.dropdown-option:last-child{border-bottom:none}.dropdown-option:hover{background:#262626;color:#fff}.dropdown-option.selected{background:linear-gradient(145deg,#00397b,#1663b0);color:#fff}.dropdown-option:first-child{border-radius:11px 11px 0 0}.dropdown-option:last-child{border-radius:0 0 11px 11px}.dropdown-menu::-webkit-scrollbar{width:6px}.dropdown-menu::-webkit-scrollbar-track{background:#262626;border-radius:3px}.dropdown-menu::-webkit-scrollbar-thumb{background:#404040;border-radius:3px}.dropdown-menu::-webkit-scrollbar-thumb:hover{background:#555}.error-message{background:linear-gradient(145deg,#4b0404,#550303);border:1px solid #840808;border-radius:12px;padding:24px;margin:20px 0;text-align:center;box-shadow:0 4px 12px rgba(220,38,38,.2)}.error-icon{font-size:2rem;margin-bottom:12px;display:block}.error-title{font-size:1.2rem;font-weight:600;color:#fff;margin-bottom:8px}.error-description{color:#fca5a5;font-size:.9rem;margin-bottom:16px;line-height:1.5}.retry-button{background:linear-gradient(145deg,#dc2626,#b91c1c);border:none;color:#fff;padding:10px 20px;border-radius:8px;cursor:pointer;font-weight:500;font-size:.9rem;transition:all .3s ease}.retry-button:hover{background:linear-gradient(145deg,#b91c1c,#991b1b);transform:translateY(-1px)}.loading-message{background:#1a1a1a;border:1px solid #262626;border-radius:12px;padding:24px;margin:20px 0;text-align:center}.loading-spinner{display:inline-block;width:24px;height:24px;border:3px solid #262626;border-top:3px solid #4a9eff;border-radius:50%;animation:spin 1s linear infinite;margin-right:12px;vertical-align:middle}@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}.loading-text{color:#9ca3af;font-size:1rem;vertical-align:middle}.spots-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(600px,1fr));gap:30px}.spot-card{background:#1a1a1a;border-radius:12px;padding:24px;box-shadow:none;border:1px solid #262626;transition:border-color .2s ease}.spot-card:hover{transform:none;box-shadow:none;border-color:#333}.spot-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:20px;padding-bottom:16px;border-bottom:1px solid #262626}.spot-title{display:flex;flex-direction:column;gap:4px}.spot-meta{display:flex;flex-direction:column;align-items:flex-end;gap:8px}.spot-name{font-size:1.25rem;font-weight:600;color:#fff}.last-updated{font-size:.75rem;color:#5e6165;font-weight:400}.country-tag{background:#262626;padding:4px 10px;border-radius:6px;font-size:.75rem;color:#9ca3af;border:none;font-weight:500}.external-links{display:flex;gap:8px;margin-top:16px;flex-wrap:wrap}.external-link{display:inline-flex;align-items:center;gap:4px;background:0 0;color:#9ca3af;text-decoration:none;padding:6px 12px;border-radius:6px;font-size:.75rem;font-weight:500;border:1px solid #333;transition:all .15s ease;cursor:pointer}.external-link:hover{background:#262626;color:#fff;border-color:#404040}.external-link::after{content:"↗";font-size:.7rem;opacity:.6}.external-link.location-link::after{content:"⚲";font-size:.8rem;opacity:1}.external-link.webcam-link::after{content:"⊙";font-size:.8rem;opacity:1}.external-link.ai-link{border:1px solid #1f7987}.external-link.ai-link::after{content:"⟡";font-size:.8rem;opacity:1}.external-link.refresh-link::after{content:"↺";font-size:.8rem;opacity:1}.modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);backdrop-filter:blur(4px);display:none;justify-content:center;align-items:center;z-index:1000;animation:fadeIn .3s ease}.modal-overlay.active{display:flex}.modal{background:#1a1a1a;border:1px solid #333;border-radius:16px;width:90%;max-width:600px;max-height:80vh;overflow:hidden;box-shadow:0 20px 40px rgba(0,0,0,.5);animation:modalSlideIn .3s ease}.modal-header{background:linear-gradient(145deg,#0854ab,#216ebb);padding:20px 24px;border-bottom:1px solid #333;display:flex;justify-content:space-between;align-items:center}.modal-title{color:#fff;font-size:1.2rem;font-weight:600;display:flex;align-items:center;gap:8px}.modal-close{background:0 0;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:4px;border-radius:4px;transition:background .2s ease}.modal-close:hover{background:rgba(255,255,255,.1)}.modal-content{padding:24px;overflow-y:auto;max-height:calc(80vh - 80px)}.ai-analysis{color:#e8e8e8;line-height:1.6;font-size:.95rem}.ai-analysis h3{color:#4a9eff;margin-bottom:12px;font-size:1.1rem;font-weight:600}.ai-analysis p{margin-bottom:16px}.ai-analysis ul{margin-left:20px;margin-bottom:16px}.ai-analysis li{margin-bottom:8px}.ai-highlight{background:rgba(74,158,255,.1);color:#4a9eff;padding:2px 6px;border-radius:4px;font-weight:500}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes modalSlideIn{from{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.weather-table{width:100%;border-collapse:collapse;margin-top:15px;border-radius:8px;overflow:hidden}.weather-table th{background:#262626;color:#fff;padding:12px 8px;text-align:center;font-weight:600;border-bottom:none;font-size:.8rem;text-transform:uppercase;letter-spacing:.05em}.weather-table th:first-child{text-align:left}.weather-table td{padding:12px 8px;text-align:center;border-bottom:1px solid #1f1f1f;transition:none;font-size:.875rem}.weather-table td:first-child{text-align:left}.weather-table tr.weak-wind{background:0 0;color:#6b7280}.weather-table tr.moderate-wind{background:rgba(34,197,94,.1);color:#22c55e}.weather-table tr.strong-wind{background:rgba(245,158,11,.1);color:#f59e0b}.weather-table tr.extreme-wind{background:rgba(239,68,68,.1);color:#ef4444}.wind-arrow{display:inline-block;font-size:1.2rem;transition:transform .3s ease}.wind-weak{color:#6b7280}.wind-moderate{color:#22c55e;font-weight:600}.wind-strong{color:#f59e0b;font-weight:600}.wind-extreme{color:#ef4444;font-weight:600}.temp-positive{color:#f97316}.temp-negative{color:#06b6d4}.precipitation{color:#3b82f6}.precipitation-none{color:#6b7280}.date-header{background:linear-gradient(145deg,#4a9eff,#357abd);color:#fff;font-weight:700}.live-indicator{display:inline-flex;align-items:center;gap:8px}.live-dot{width:8px;height:8px;background:#22c55e;border-radius:50%;position:relative;animation:pulse-glow 2s ease-in-out infinite;margin-left:8px}.live-dot::before{content:'';position:absolute;top:-2px;left:-2px;right:-2px;bottom:-2px;background:#22c55e;border-radius:50%;opacity:.4;animation:pulse-ring 2s ease-in-out infinite}@keyframes pulse-glow{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.8;transform:scale(1.1)}}@keyframes pulse-ring{0%{transform:scale(1);opacity:.4}50%{transform:scale(1.5);opacity:.2}100%{transform:scale(2);opacity:0}}@media (max-width:768px){.spots-grid{grid-template-columns:1fr}.controls{flex-direction:column;align-items:center;gap:16px}.dropdown-container{width:100%;max-width:500px}.weather-table{font-size:.85rem}.weather-table td,.weather-table th{padding:8px 4px}.error-message{padding:20px}.error-title{font-size:1.1rem}.error-description{font-size:.85rem}}.footer{margin-top:60px;padding:30px 0;border-top:1px solid #262626;text-align:center}.footer-content{max-width:600px;margin:0 auto}.footer-content p{color:#9ca3af;font-size:.875rem;margin-bottom:8px}.footer-content p:last-child{margin-bottom:0}.footer-disclaimer{font-size:.75rem;opacity:.8}.footer-link{font-size:.75rem;margin-top:12px}.footer-disclaimer a,.footer-link a{color:#4a9eff;text-decoration:none;transition:color .2s ease}.footer-disclaimer a:hover,.footer-link a:hover{color:#fff;text-decoration:underline}</style></head><body><div class="container"><div class="header"><h1>VARUN.SURF</h1><p>weather forecast and real-time wind conditions dashboard for kitesurfers</p></div><div class="controls"><div class="dropdown-container"><button class="dropdown-button" id="dropdownButton"><span id="selectedCountry">🌎 All</span> <span class="dropdown-arrow">▼</span></button><div class="dropdown-menu" id="dropdownMenu"><div class="dropdown-option selected" data-country="all">🌎 All</div><div class="dropdown-option" data-country="Poland">🇵🇱 POLAND</div><div class="dropdown-option" data-country="Austria">🇦🇹 AUSTRIA</div><div class="dropdown-option" data-country="Lithuania">🇱🇹 LITHUANIA</div><div class="dropdown-option" data-country="Denmark">🇩🇰 DENMARK</div><div class="dropdown-option" data-country="Spain">🇪🇸 SPAIN</div><div class="dropdown-option" data-country="Portugal">🇵🇹 PORTUGAL</div><div class="dropdown-option" data-country="Italy">🇮🇹 ITALY</div></div></div></div><div class="spots-grid" id="spotsGrid"><!-- Spots will be generated by JavaScript --></div><footer class="footer"><div class="footer-content"><p class="footer-disclaimer">weather data provided by <a href="https://windguru.cz" target="_blank" class="footer-external-link">windguru.cz</a>, <a href="https://windfinder.com" target="_blank" class="footer-external-link">windfinder.com</a>, <a href="https://wiatrkadyny.pl" target="_blank" class="footer-external-link">wiatrkadyny.pl</a>, <a href="https://kiteriders.at" target="_blank" class="footer-external-link">kiteriders.at</a></p><p class="footer-link">&copy; 2025 <a href="https://varun.surf">varun.surf</a> | made in 🇵🇱 by <a href="https://wittchen.io" target="_blank" class="footer-external-link">Piotr Wittchen</a> | v. 0.0.1</p></div></footer></div><!-- Modal for AI Analysis --><div class="modal-overlay" id="aiModal"><div class="modal"><div class="modal-header"><div class="modal-title"><span>⟡</span> <span id="modalSpotName">AI Analysis</span></div><button class="modal-close" id="modalClose">&times;</button></div><div class="modal-content"><div class="ai-analysis" id="aiAnalysisContent"><!-- AI analysis content will be inserted here --></div></div></div></div><script>let globalWeatherData=[];function fetchWeatherData(){return fetch("http://localhost:8001/mock-data.json",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>{if(!e.ok)throw new Error(`HTTP Error: ${e.status} - ${e.statusText}`);return e.json()})).catch((e=>{throw console.error("Error fetching weather data:",e),new Error(`Failed to fetch weather data: ${e.message}`)}))}function showLoadingMessage(){document.getElementById("spotsGrid").innerHTML='\n  <div class="loading-message">\n  <div class="loading-spinner"></div>\n  <span class="loading-text">Loading weather data...</span>\n  </div>\n  '}function showErrorMessage(e,t){const n=document.getElementById("spotsGrid");let a="Failed to Load Weather Data",o="Unable to fetch the latest weather information.";e.message.includes("HTTP Error: 404")?(a="Data Source Not Found",o="The weather data source is currently unavailable. This might be a temporary issue with the server."):e.message.includes("HTTP Error: 500")?(a="Server Error",o="The weather service is experiencing technical difficulties. Please try again later."):e.message.includes("Failed to fetch")||e.message.includes("NetworkError")?(a="Connection Error",o="Unable to connect to the weather service. Please check your internet connection and try again."):e.message.includes("JSON")&&(a="Data Format Error",o="The weather data received is corrupted or in an unexpected format."),n.innerHTML=`\n  <div class="error-message">\n  <span class="error-icon">⚠️</span>\n  <div class="error-title">${a}</div>\n  <div class="error-description">\n  ${o}<br/>\n  </div>\n  <button class="retry-button" onclick="retryLoadData()">\n  Try Again\n  </button>\n  </div>\n  `}function getWindArrow(e){return{N:"↑",NE:"↗",E:"→",SE:"↘",S:"↓",SW:"↙",W:"←",NW:"↖"}[e]||"•"}function openAIModal(e){const t=globalWeatherData.find((t=>t.name===e));if(!t)return;const n=document.getElementById("aiModal"),a=document.getElementById("modalSpotName"),o=document.getElementById("aiAnalysisContent");a.textContent=`AI Analysis - ${e}`,o.innerHTML=t.aiAnalysis.trim(),n.classList.add("active"),document.body.style.overflow="hidden"}function closeAIModal(){document.getElementById("aiModal").classList.remove("active"),document.body.style.overflow="auto"}function createSpotCard(e){const t=document.createElement("div");t.className="spot-card",t.dataset.country=e.country;let n="";e.forecast.forEach((e=>{let t,a;e.wind<12?(t="weak-wind",a="wind-weak"):e.wind>=12&&e.wind<15?(t="moderate-wind",a="wind-moderate"):e.wind>=15&&e.wind<=22?(t="strong-wind",a="wind-strong"):(t="extreme-wind",a="wind-extreme");const o=e.temp>=20?"temp-positive":"temp-negative",s=getWindArrow(e.direction),r=0===e.precipitation?"precipitation-none":"precipitation";n+=`\n  <tr class="${t}">\n  <td><strong>${e.date}</strong></td>\n  <td class="${a}">${e.wind} kts</td>\n  <td class="${a}">${e.gusts} kts</td>\n  <td class="${a}">\n  <span class="wind-arrow">${s}</span> ${e.direction}\n  </td>\n  <td class="${o}">${e.temp}°C</td>\n  <td class="${r}">${e.precipitation}%</td>\n  </tr>\n  `}));let a="";if(e.currentConditions){let t,n;e.currentConditions.wind<12?(t="weak-wind",n="wind-weak"):e.currentConditions.wind>=12&&e.currentConditions.wind<15?(t="moderate-wind",n="wind-moderate"):e.currentConditions.wind>=15&&e.currentConditions.wind<=22?(t="strong-wind",n="wind-strong"):(t="extreme-wind",n="wind-extreme");const o=e.currentConditions.temp>=20?"temp-positive":"temp-negative",s=getWindArrow(e.currentConditions.direction);a=`\n  <tr class="${t}" style="border-top: 2px solid #404040;">\n  <td>\n  <div class="live-indicator">\n  <strong>NOW</strong>\n  <div class="live-dot"></div>\n  </div>\n  </td>\n  <td class="${n}">${e.currentConditions.wind} kts</td>\n  <td class="${n}">${e.currentConditions.gusts} kts</td>\n  <td class="${n}">\n  <span class="wind-arrow">${s}</span> ${e.currentConditions.direction}\n  </td>\n  <td class="${o}">${e.currentConditions.temp}°C</td>\n  <td>-</td>\n  </tr>\n  `}return t.innerHTML=`\n  <div class="spot-header">\n  <div class="spot-title">\n  <div class="spot-name">${e.name}</div>\n  </div>\n  <div class="spot-meta">\n  <div class="country-tag">${e.country}</div>\n  <div class="last-updated">${e.lastUpdated}</div>\n  </div>\n  </div>\n  <div class="external-links">\n  <span class="external-link refresh-link" onclick="retryLoadData()"></span>\n  <a href="${e.windguruUrl}" target="_blank" class="external-link">Windguru</a>\n  <a href="${e.windfinderUrl}" target="_blank" class="external-link">Windfinder</a>\n  ${e.icmUrl?`<a href="${e.icmUrl}" target="_blank" class="external-link">ICM</a>`:""}\n  ${e.webcamUrl?`<a href="${e.webcamUrl}" target="_blank" class="external-link webcam-link">Webcam</a>`:""}\n  <a href="${e.locationUrl}" target="_blank" class="external-link location-link">Location</a>\n  ${e.aiAnalysis?`<span class="external-link ai-link" onclick="openAIModal('${e.name}')">AI Analysis</span>`:""}\n  </div>\n  <table class="weather-table">\n  <thead>\n  <tr>\n  <th>Date</th>\n  <th>Wind</th>\n  <th>Gusts</th>\n  <th>Direction</th>\n  <th>Temp</th>\n  <th>Rain</th>\n  </tr>\n  </thead>\n  <tbody>\n  ${n}\n  ${a}\n  </tbody>\n  </table>\n  `,t}let currentFilter="all";function renderSpots(e="all"){currentFilter=e;const t=document.getElementById("spotsGrid");showLoadingMessage(),fetchWeatherData().then((n=>{globalWeatherData=n;const a="all"===e?n:n.filter((t=>t.country===e));t.innerHTML="",a.forEach((e=>{t.appendChild(createSpotCard(e))}))})).catch((e=>{console.error("Failed to load weather:",e.message),showErrorMessage(e)}))}function retryLoadData(){renderSpots(currentFilter)}function setupDropdown(){const e=document.getElementById("dropdownButton"),t=document.getElementById("dropdownMenu"),n=document.getElementById("selectedCountry"),a=document.querySelectorAll(".dropdown-option");function o(){e.classList.remove("open","active"),t.classList.remove("open")}e.addEventListener("click",(n=>{n.stopPropagation();t.classList.contains("open")?o():(e.classList.add("open","active"),t.classList.add("open"))})),a.forEach((e=>{e.addEventListener("click",(t=>{t.stopPropagation(),a.forEach((e=>e.classList.remove("selected"))),e.classList.add("selected"),n.textContent=e.textContent;renderSpots(e.dataset.country),o()}))})),document.addEventListener("click",(n=>{e.contains(n.target)||t.contains(n.target)||o()})),document.addEventListener("keydown",(n=>{"Escape"===n.key&&t.classList.contains("open")&&(o(),e.focus())}))}function setupModal(){const e=document.getElementById("aiModal");document.getElementById("modalClose").addEventListener("click",closeAIModal),e.addEventListener("click",(t=>{t.target===e&&closeAIModal()})),document.addEventListener("keydown",(t=>{"Escape"===t.key&&e.classList.contains("active")&&closeAIModal()}))}window.openAIModal=openAIModal,window.closeAIModal=closeAIModal,document.addEventListener("DOMContentLoaded",(()=>{renderSpots(),setupDropdown(),setupModal()}))</script></body></html>