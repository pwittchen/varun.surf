<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>VARUN.SURF Embed Widget</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;background:0 0}.varun-embed-widget{width:100%;max-width:600px;border-radius:12px;overflow:hidden;box-shadow:0 4px 12px rgba(0,0,0,.15)}.varun-embed-widget[data-theme=light]{background:#fff;color:#1a1a1a}.varun-embed-widget[data-theme=dark]{background:#1a1a1a;color:#f5f5f5}.varun-header{padding:16px;border-bottom:1px solid}.varun-embed-widget[data-theme=light] .varun-header{background:#f8f9fa;border-bottom-color:#e0e0e0}.varun-embed-widget[data-theme=dark] .varun-header{background:#2a2a2a;border-bottom-color:#404040}.varun-spot-name{font-size:20px;font-weight:700;margin-bottom:4px}.varun-spot-name a{color:inherit;text-decoration:none}.varun-spot-name a:hover{text-decoration:underline}.varun-country{font-size:14px;opacity:.7}.varun-content{padding:16px}.varun-loading{text-align:center;padding:32px;opacity:.6}.varun-error{text-align:center;padding:32px;color:#ef4444}.varun-current-conditions{display:grid;gap:16px}.varun-wind-main{text-align:center;padding:24px;border-radius:8px}.varun-embed-widget[data-theme=light] .varun-wind-main{background:#f1f5f9}.varun-embed-widget[data-theme=dark] .varun-wind-main{background:#2d3748}.varun-wind-main.varun-wind-weak{background:rgba(148,163,184,.2)}.varun-embed-widget[data-theme=dark] .varun-wind-main.varun-wind-weak{background:rgba(148,163,184,.1)}.varun-wind-main.varun-wind-moderate{background:rgba(59,130,246,.18)}.varun-embed-widget[data-theme=dark] .varun-wind-main.varun-wind-moderate{background:rgba(59,130,246,.12)}.varun-wind-main.varun-wind-strong{background:rgba(34,197,94,.2)}.varun-embed-widget[data-theme=dark] .varun-wind-main.varun-wind-strong{background:rgba(34,197,94,.14)}.varun-wind-main.varun-wind-extreme{background:rgba(239,68,68,.2)}.varun-embed-widget[data-theme=dark] .varun-wind-main.varun-wind-extreme{background:rgba(239,68,68,.15)}.varun-wind-speed{font-size:48px;font-weight:700;margin-bottom:8px}.varun-wind-speed.weak{color:#94a3b8}.varun-wind-speed.moderate{color:#3b82f6}.varun-wind-speed.strong{color:#22c55e}.varun-wind-speed.extreme{color:#ef4444}.varun-wind-label{font-size:14px;opacity:.7;text-transform:uppercase;letter-spacing:1px}.varun-conditions-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}.varun-condition-item{padding:12px;border-radius:6px}.varun-embed-widget[data-theme=light] .varun-condition-item{background:#f8fafc}.varun-embed-widget[data-theme=dark] .varun-condition-item{background:#374151}.varun-condition-label{font-size:12px;opacity:.6;margin-bottom:4px;text-transform:uppercase}.varun-condition-value{font-size:18px;font-weight:600}.varun-forecast-table{width:100%;border-collapse:collapse;font-size:14px}.varun-forecast-table td,.varun-forecast-table th{padding:8px 4px;text-align:left}.varun-forecast-table th{font-weight:600;opacity:.7;font-size:12px;text-transform:uppercase;letter-spacing:.5px}.varun-embed-widget[data-theme=light] .varun-forecast-table{border-top:1px solid #e0e0e0}.varun-embed-widget[data-theme=dark] .varun-forecast-table{border-top:1px solid #404040}.varun-forecast-table tr{transition:background .2s ease}.varun-forecast-table tr.varun-wind-weak{border-left:3px solid #94a3b8}.varun-forecast-table tr.varun-wind-moderate{border-left:3px solid #3b82f6}.varun-forecast-table tr.varun-wind-strong{border-left:3px solid #22c55e}.varun-forecast-table tr.varun-wind-extreme{border-left:3px solid #ef4444}.varun-embed-widget[data-theme=light] .varun-forecast-table tr.varun-wind-weak{background:rgba(148,163,184,.2)}.varun-embed-widget[data-theme=light] .varun-forecast-table tr.varun-wind-moderate{background:rgba(59,130,246,.15)}.varun-embed-widget[data-theme=light] .varun-forecast-table tr.varun-wind-strong{background:rgba(34,197,94,.15)}.varun-embed-widget[data-theme=light] .varun-forecast-table tr.varun-wind-extreme{background:rgba(239,68,68,.15)}.varun-embed-widget[data-theme=dark] .varun-forecast-table tr.varun-wind-weak{background:rgba(148,163,184,.1)}.varun-embed-widget[data-theme=dark] .varun-forecast-table tr.varun-wind-moderate{background:rgba(59,130,246,.08)}.varun-embed-widget[data-theme=dark] .varun-forecast-table tr.varun-wind-strong{background:rgba(34,197,94,.12)}.varun-embed-widget[data-theme=dark] .varun-forecast-table tr.varun-wind-extreme{background:rgba(239,68,68,.12)}.varun-forecast-table td.varun-forecast-gusts.varun-wind-weak,.varun-forecast-table td.varun-forecast-wind.varun-wind-weak{color:#94a3b8}.varun-forecast-table td.varun-forecast-gusts.varun-wind-moderate,.varun-forecast-table td.varun-forecast-wind.varun-wind-moderate{color:#3b82f6}.varun-forecast-table td.varun-forecast-gusts.varun-wind-strong,.varun-forecast-table td.varun-forecast-wind.varun-wind-strong{color:#22c55e}.varun-forecast-table td.varun-forecast-gusts.varun-wind-extreme,.varun-forecast-table td.varun-forecast-wind.varun-wind-extreme{color:#ef4444;font-weight:600}.varun-wind-arrow{display:inline-block;font-size:16px}.varun-footer{padding:12px 16px;text-align:center;font-size:12px;border-top:1px solid}.varun-embed-widget[data-theme=light] .varun-footer{background:#f8f9fa;border-top-color:#e0e0e0}.varun-embed-widget[data-theme=dark] .varun-footer{background:#2a2a2a;border-top-color:#404040}.varun-footer a{color:#3b82f6;text-decoration:none;font-weight:600}.varun-footer a:hover{text-decoration:underline}@media (max-width:480px){.varun-wind-speed{font-size:36px}.varun-conditions-grid{grid-template-columns:1fr}.varun-forecast-table{font-size:12px}.varun-forecast-table td,.varun-forecast-table th{padding:6px 2px}}</style></head><body><div class=varun-embed-widget id=varunWidget data-theme=dark><div class=varun-header><div class=varun-spot-name id=spotName>Loading...</div><div class=varun-country id=spotCountry></div></div><div class=varun-content id=widgetContent><div class=varun-loading>Loading spot data...</div></div><div class=varun-footer id=varunFooter>Data provided by <a href=https://varun.surf target=_blank rel="noopener noreferrer">VARUN.SURF</a></div></div><script>!function(){const n=new URLSearchParams(window.location.search),t=n.get("spotId"),e="light"===(n.get("theme")||"dark").toLowerCase()?"light":"dark",i="forecast"===(n.get("view")||"conditions").toLowerCase()?"forecast":"conditions",o="pl"===(n.get("lang")||"en").toLowerCase()?"pl":"en",a={en:{loadingSpotData:"Loading spot data...",windSpeedLabel:"Wind Speed",gustsLabel:"Gusts",directionLabel:"Direction",temperatureLabel:"Temperature",precipitationLabel:"Precipitation",timeHeader:"Time",windHeader:"Wind",gustsHeader:"Gusts",dirHeader:"Dir",tempHeader:"Temp",noData:"No data available",missingSpotId:"Missing spotId parameter",spotNotFound:"Spot not found",failedToLoad:"Failed to load spot data",dataProvidedBy:"Data provided by"},pl:{loadingSpotData:"Ładowanie danych spotu...",windSpeedLabel:"Prędkość wiatru",gustsLabel:"Porywy",directionLabel:"Kierunek",temperatureLabel:"Temperatura",precipitationLabel:"Opady",timeHeader:"Czas",windHeader:"Wiatr",gustsHeader:"Porywy",dirHeader:"Kier.",tempHeader:"Temp.",noData:"Brak danych",missingSpotId:"Brak parametru spotId",spotNotFound:"Nie znaleziono spotu",failedToLoad:"Nie udało się załadować danych spotu",dataProvidedBy:"Dane dostarcza"}};function r(n){return(a[o]||a.en)[n]||a.en[n]||n}const d=window.location&&window.location.origin&&window.location.origin.startsWith("http")?window.location.origin.replace(/\/$/,""):"https://varun.surf";document.getElementById("varunWidget").setAttribute("data-theme",e);const s=document.getElementById("widgetContent");s&&(s.innerHTML=`<div class="varun-loading">${r("loadingSpotData")}</div>`);const c=document.getElementById("varunFooter");(c&&(c.innerHTML=`${r("dataProvidedBy")} <a href="https://varun.surf" target="_blank" rel="noopener noreferrer">VARUN.SURF</a>`),t)?fetch(`${d}/api/v1/spots/${t}`).then(n=>{if(!n.ok)throw new Error("spotNotFound");return n.json()}).then(n=>{!function(n){const e=document.getElementById("spotName"),o=document.getElementById("spotCountry"),a=document.getElementById("widgetContent");if(e){const i=document.createElement("a");i.href=`${d}/spot/${encodeURIComponent(t)}`,i.target="_blank",i.rel="noopener noreferrer",i.textContent=n.name,e.innerHTML="",e.appendChild(i)}o.textContent=n.country,"conditions"===i?function(n,t){let e=null,i=!1;if(n.currentConditions&&null!=n.currentConditions.wind&&n.currentConditions.wind>=0)e={wind:n.currentConditions.wind,gusts:n.currentConditions.gusts,direction:n.currentConditions.direction,temp:n.currentConditions.temp,precipitation:0},i=!0;else if(n.forecastHourly&&n.forecastHourly.length>0){const t=function(n){const t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),0,0);for(const t of n){const n=p(t.date);if(n&&n>=e)return t}return n.length>0?n[0]:null}(n.forecastHourly);t&&(e={wind:t.wind,gusts:t.gusts,direction:t.direction,temp:t.temp,precipitation:l(t.precipitation,0)},i=!1)}if(!e)return void(t.innerHTML=`<div class="varun-error">${r("noData")}</div>`);const o=v(e.wind,e.gusts);let a="weak";o>=12&&o<18?a="moderate":o>=18&&o<=25?a="strong":o>25&&(a="extreme");const d=u(e.direction),s=i?'<div style="font-size: 11px; opacity: 0.6; margin-top: 8px;">Live data</div>':'<div style="font-size: 11px; opacity: 0.6; margin-top: 8px;">Estimated from forecast</div>';t.innerHTML=`\n                    <div class="varun-current-conditions">\n                        <div class="varun-wind-main ${a}">\n                            <div class="varun-wind-speed ${a}">${e.wind} kts</div>\n                            <div class="varun-wind-label">${r("windSpeedLabel")}</div>\n                            ${s}\n                        </div>\n                        <div class="varun-conditions-grid">\n                            <div class="varun-condition-item">\n                                <div class="varun-condition-label">${r("gustsLabel")}</div>\n                                <div class="varun-condition-value">${e.gusts} kts</div>\n                            </div>\n                            <div class="varun-condition-item">\n                                <div class="varun-condition-label">${r("directionLabel")}</div>\n                                <div class="varun-condition-value">${d} ${e.direction}</div>\n                            </div>\n                            <div class="varun-condition-item">\n                                <div class="varun-condition-label">${r("temperatureLabel")}</div>\n                                <div class="varun-condition-value">${e.temp}°C</div>\n                            </div>\n                            <div class="varun-condition-item">\n                                <div class="varun-condition-label">${r("precipitationLabel")}</div>\n                                <div class="varun-condition-value">${e.precipitation??0} mm</div>\n                            </div>\n                        </div>\n                    </div>\n                `}(n,a):function(n,t){const e=n.forecastHourly||n.forecast||[];if(0===e.length)return void(t.innerHTML=`<div class="varun-error">${r("noData")}</div>`);const i=function(n){const t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),0,0);return n.filter(n=>{const t=p(n.date);return!!t&&t>=e})}(e);if(0===i.length)return void(t.innerHTML=`<div class="varun-error">${r("noData")}</div>`);const o=i.slice(0,8);let a=`\n                    <table class="varun-forecast-table">\n                        <thead>\n                            <tr>\n                                <th>${r("timeHeader")}</th>\n                                <th>${r("windHeader")}</th>\n                                <th>${r("gustsHeader")}</th>\n                                <th>${r("dirHeader")}</th>\n                                <th>${r("tempHeader")}</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                `;o.forEach(n=>{const t=function(n){if(!n)return"";const t=n.split(" ");return t.length>=5?t[4]:n}(n.date),e=u(n.direction),i=function(n,t){const e=v(n,t);return e<12?"varun-wind-weak":e<18?"varun-wind-moderate":e<=25?"varun-wind-strong":"varun-wind-extreme"}(n.wind,n.gusts),o=`${n.wind} kts`,r=`${n.gusts} kts`;a+=`\n                        <tr class="${i}">\n                            <td><strong>${t}</strong></td>\n                            <td class="varun-forecast-wind ${i}">${o}</td>\n                            <td class="varun-forecast-gusts ${i}">${r}</td>\n                            <td>${e} ${n.direction}</td>\n                            <td>${n.temp}°C</td>\n                        </tr>\n                    `}),a+="\n                        </tbody>\n                    </table>\n                ",t.innerHTML=a}(n,a)}(n)}).catch(n=>{g(r(n&&a.en[n.message]?n.message:"failedToLoad"))}):g(r("missingSpotId"));function u(n){return{N:"↓",NE:"↙",E:"←",SE:"↖",S:"↑",SW:"↗",W:"→",NW:"↘"}[n]||"•"}function l(n,t=0){const e=Number(n);return Number.isFinite(e)?e:t}function v(n,t){return(l(n)+l(t))/2}function p(n){if(!n)return null;try{const t=new Date(n);return isNaN(t.getTime())?null:t}catch(n){return null}}function g(n){document.getElementById("widgetContent").innerHTML=`<div class="varun-error">${n}</div>`}}()</script></body></html>