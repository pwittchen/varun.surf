import{c as t,g as e}from"./api.CZRWHcNU.js";const n=localStorage.getItem("theme")||"dark";async function o(t){const e=document.querySelector(`[data-endpoint="${t}"]`),n=e.querySelector(".status-endpoint-status"),o=e.querySelector(".status-endpoint-dot");try{const e=await fetch(t);e.ok?(n.textContent="operational",o.className="status-endpoint-dot status-endpoint-dot-up"):(n.textContent=`error (${e.status})`,o.className="status-endpoint-dot status-endpoint-dot-down")}catch(s){n.textContent="unreachable",o.className="status-endpoint-dot status-endpoint-dot-down"}}async function s(){await async function(){try{const e=await t();if(!e.ok)throw new Error("Failed to fetch status");const n=await e.json(),o=document.getElementById("status-indicator"),s=o.querySelector(".status-dot"),a=o.querySelector(".status-text");if("UP"===n.status?(s.className="status-dot status-dot-up",a.textContent="All Systems Operational"):(s.className="status-dot status-dot-down",a.textContent="System Issues Detected"),document.getElementById("version").textContent=n.version||"unknown",document.getElementById("uptime").textContent=n.uptime||"-",document.getElementById("spots-count").textContent=n.spotsCount||"0",n.startTime){const t=new Date(n.startTime);document.getElementById("start-time").textContent=t.toLocaleString()}document.getElementById("last-updated").textContent="Last updated: "+(new Date).toLocaleTimeString()}catch(e){console.error("Error fetching status:",e);const t=document.getElementById("status-indicator"),n=t.querySelector(".status-dot"),o=t.querySelector(".status-text");n.className="status-dot status-dot-down",o.textContent="Unable to Connect"}}(),await async function(){const t=e();await Promise.all(t.map(o))}()}document.documentElement.setAttribute("data-theme",n),document.addEventListener("DOMContentLoaded",()=>{s(),setInterval(s,3e4),document.getElementById("refresh-status").addEventListener("click",s)});
