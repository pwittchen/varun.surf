import"./styles.C_2vWXVE.js";const t=localStorage.getItem("theme")||"dark";async function e(t){const e=document.querySelector(`[data-endpoint="${t}"]`),n=e.querySelector(".status-endpoint-status"),o=e.querySelector(".status-endpoint-dot");try{const e=performance.now(),s=await fetch(t),a=performance.now(),d=Math.round(a-e);s.ok?(n.textContent=`operational (${d}ms)`,o.className="status-endpoint-dot status-endpoint-dot-up"):(n.textContent=`error (${s.status})`,o.className="status-endpoint-dot status-endpoint-dot-down")}catch(s){n.textContent="unreachable",o.className="status-endpoint-dot status-endpoint-dot-down"}}async function n(){await async function(){try{const t=await fetch("/api/v1/status");if(!t.ok)throw new Error("Failed to fetch status");const e=await t.json(),n=document.getElementById("status-indicator"),o=n.querySelector(".status-dot"),s=n.querySelector(".status-text");if("UP"===e.status?(o.className="status-dot status-dot-up",s.textContent="All Systems Operational"):(o.className="status-dot status-dot-down",s.textContent="System Issues Detected"),document.getElementById("version").textContent=e.version||"unknown",document.getElementById("uptime").textContent=e.uptime||"-",document.getElementById("spots-count").textContent=e.spotsCount||"0",e.startTime){const t=new Date(e.startTime);document.getElementById("start-time").textContent=t.toLocaleString()}document.getElementById("last-updated").textContent="Last updated: "+(new Date).toLocaleTimeString()}catch(t){console.error("Error fetching status:",t);const e=document.getElementById("status-indicator"),n=e.querySelector(".status-dot"),o=e.querySelector(".status-text");n.className="status-dot status-dot-down",o.textContent="Unable to Connect"}}(),await async function(){await Promise.all(["/api/v1/health","/api/v1/status","/api/v1/spots"].map(e))}()}document.documentElement.setAttribute("data-theme",t),document.addEventListener("DOMContentLoaded",()=>{n(),setInterval(n,3e4),document.getElementById("refresh-status").addEventListener("click",n)});
